# ===========================================
# Cap Self-Hosted Environment Configuration
# Railway + Cloudflare R2 Deployment
# ===========================================

# --- Core Configuration (Required) ---
DATABASE_URL="mysql://user:password@host:3306/database"
WEB_URL="https://your-domain.com"
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"
NEXTAUTH_URL="https://your-domain.com"
NODE_ENV="production"

# --- Cloudflare R2 Storage (Required) ---
CAP_AWS_BUCKET="your-bucket-name"
CAP_AWS_REGION="auto"
CAP_AWS_ACCESS_KEY="your-r2-access-key-id"
CAP_AWS_SECRET_KEY="your-r2-secret-access-key"
CAP_AWS_ENDPOINT="https://ACCOUNT_ID.r2.cloudflarestorage.com"
CAP_AWS_BUCKET_URL="https://pub-xxx.r2.dev"
S3_PATH_STYLE="true"

# --- Email via AWS SES (Required) ---
EMAIL_PROVIDER="ses"
AWS_SES_REGION="us-east-2"
AWS_SES_ACCESS_KEY_ID="your-ses-access-key"
AWS_SES_SECRET_ACCESS_KEY="your-ses-secret-key"
AWS_SES_FROM_EMAIL="notifications@your-domain.com"

# --- AI / Transcription (Required for captions) ---
TRANSCRIPTION_PROVIDER="whisper"
OPENAI_API_KEY="sk-your-openai-api-key"

# --- Railway Build (Required) ---
RAILPACK_PACKAGES="ffmpeg"
NEXT_PUBLIC_DOCKER_BUILD="true"

# ===========================================
# Optional Configuration
# ===========================================

# --- Alternative Email Provider ---
# EMAIL_PROVIDER="resend"
# RESEND_API_KEY="re_xxx"
# RESEND_FROM_DOMAIN="your-domain.com"

# --- Alternative Transcription ---
# TRANSCRIPTION_PROVIDER="deepgram"
# DEEPGRAM_API_KEY="your-deepgram-api-key"

# --- AI Summaries (Groq is primary, OpenAI fallback) ---
# GROQ_API_KEY="your-groq-api-key"

# --- OAuth Providers ---
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""

# --- WorkOS SSO ---
# WORKOS_CLIENT_ID=""
# WORKOS_API_KEY=""

# --- Stripe Payments ---
# STRIPE_SECRET_KEY=""
# STRIPE_WEBHOOK_SECRET=""

# --- Restrict Signups to Specific Domains ---
# CAP_ALLOWED_SIGNUP_DOMAINS="example.com,company.org"

# --- Default Video Privacy ---
# CAP_VIDEOS_DEFAULT_PUBLIC="true"
